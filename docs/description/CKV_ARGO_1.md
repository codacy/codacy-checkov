# Ensure Workflow pods are not using the default ServiceAccount

_This pattern description was written by a Codacy bot for Checkov. Send feedback to ai-patterns@codacy.com_

## Checkov Security Check: CKV_ARGO_1

### What this security check identifies

This Checkov security check, identified as `CKV_ARGO_1`, is designed to identify if the Argo Workflow pods are using the default service account. 

In the Kubernetes world, a service account provides an identity for processes that run in a Pod. By default, applications will authenticate as the `default` service account in the namespace they are running in. 

The security check examines the `serviceAccountName` field in the Argo Workflow's configuration. If this field is present and its value is not "default", the check passes. If the field is missing or its value is "default", the check fails.

### Why this issue is important from a security perspective

Using the default service account for your pods can lead to security issues, as this service account may have permissions to perform actions that are beyond the scope of what your application needs to do, violating the principle of least privilege. 

The `default` service account has broad permissions which can potentially be exploited if an attacker manages to run arbitrary commands in your pods. It's often a good idea to create a dedicated service account for each application running in your Kubernetes cluster, with permissions limited to what the application needs.

### How to fix the issue

To resolve this issue, you should:

1. Create a dedicated service account for your Argo Workflow pods, with the necessary permissions.
2. Update your Argo Workflow's configuration to use this new service account. This can be done by setting the `serviceAccountName` field to the name of your new service account.

By following these steps, you can ensure that your Argo Workflow pods operate under the principle of least privilege, enhancing the security of your Kubernetes cluster.

_(Text generated by Codacy Bot. Send feedback to ai-pattern-text@codacy.com)_

# Ensure that auto Scaling groups that are associated with a load balancer, are using Load Balancing health checks.

_This pattern description was written by a Codacy bot for Checkov. Send feedback to ai-patterns@codacy.com_

### Checkov Security Check: CKV_NCP_18

#### Check Description

The Checkov security check CKV_NCP_18 is designed to identify and flag any auto scaling groups that are associated with a load balancer and are not using Load Balancing health checks. This check specifically looks for the configuration of `ncloud_auto_scaling_group` resources. The check passes if the `health_check_type_code` attribute is set to 'SVR' or if it is set to 'LOADB' and there exists a connection to `ncloud_lb_target_group` with a defined health check.

#### Security Importance

From a security perspective, this check is crucial because it helps ensure that your auto scaling groups are correctly configured to use Load Balancing health checks. These health checks are designed to monitor the health of your instances and ensure that all requests are routed only to healthy instances. This prevents potential downtime and ensures that your application remains available and responsive.

Without these checks, you may be routing traffic to instances that are not functioning correctly, which can lead to a poor user experience, potential data loss, or other serious issues. Additionally, if an instance becomes unresponsive or fails, the load balancer will not know to stop sending requests to that instance without these health checks.

#### How to Fix the Issue

To resolve this issue, you should ensure that your auto scaling groups that are associated with a load balancer are configured to use Load Balancing health checks. This can be done by setting the `health_check_type_code` attribute of your `ncloud_auto_scaling_group` resources to 'LOADB'. 

Furthermore, you should also make sure that there exists a connection between your `ncloud_auto_scaling_group` and `ncloud_lb_target_group` resources, and that a `health_check` attribute is defined for your `ncloud_lb_target_group` resources.

By ensuring these settings are correctly configured, you can ensure that your auto scaling groups are effectively using Load Balancing health checks, thereby maintaining the availability, reliability and performance of your applications.

_(Text generated by Codacy Bot. Send feedback to ai-pattern-text@codacy.com)_

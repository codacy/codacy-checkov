# Ensure Routing Table associated with Web tier subnet have the default route (0.0.0.0/0) defined to allow connectivity

_This pattern description was written by a Codacy bot for Checkov. Send feedback to ai-patterns@codacy.com_

## Checkov Security Check: CKV_NCP_20 - RouteTableNATGatewayDefault

### Security Issue Identified

This security check verifies that a route table associated with a web tier subnet has a default route (`0.0.0.0/0`) defined. The default route is intended to allow connectivity for the subnet. 

### Security Implications

From a security perspective, it is crucial to ensure that routing tables are correctly configured to prevent any network connectivity issues. If the default route is not defined, it could potentially lead to network isolation, which can disrupt the services running on the instances within the subnet. In the worst-case scenario, this could lead to downtime of web services, impacting the availability of applications and possibly leading to financial and reputational damages.

### How to Fix the Issue

This issue can be resolved by ensuring that a default route is defined in the routing table associated with the web tier subnet. The default route should be set to `0.0.0.0/0` and the target type should be `NATGW` (NAT Gateway). This can be done using the following configuration in your terraform script:

```hcl
resource "ncloud_route" "example" {
  destination_cidr_block = "0.0.0.0/0"
  target_type            = "NATGW"
}
```

By doing this, you ensure that all traffic from the subnet will be directed to the NAT Gateway, which will then direct the traffic to the destination based on the routing rules defined in it. This ensures that the instances within the subnet can communicate with the outside world, maintaining the availability and functionality of your web services.

_(Text generated by Codacy Bot. Send feedback to ai-pattern-text@codacy.com)_

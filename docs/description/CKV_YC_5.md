# Ensure Kubernetes cluster does not have public IP address.

_This pattern description was written by a Codacy bot for Checkov. Send feedback to ai-patterns@codacy.com_

# Checkov Security Check: CKV_YC_5

## Description

This Checkov security check, named "Ensure Kubernetes cluster does not have a public IP address", is designed to identify a specific misconfiguration where a Kubernetes cluster has been configured with a public IP address.

The security check is implemented in the `K8SPublicIP` class, which is a subclass of `BaseResourceNegativeValueCheck`. It is specifically designed for resources of type `yandex_kubernetes_cluster`.

## Security Impact

From a security perspective, assigning a public IP address to a Kubernetes cluster can expose the cluster to potential attacks from the internet. If a Kubernetes cluster is accessible via a public IP address, it means that the cluster can be reached from any location, by anyone, making it a potential target for malicious activities such as unauthorized access attempts, denial of service attacks, or data breaches.

By assigning a public IP address to a Kubernetes cluster, you are essentially opening a door to your cluster and making it visible on the public internet. This increases the attack surface of your cluster and requires rigorous security measures to protect it.

## How to Fix

To fix this issue, you should avoid assigning a public IP address to your Kubernetes cluster. Instead, use private IP addresses within your own network for all your Kubernetes nodes. This keeps your cluster hidden from the public internet and reduces your attack surface.

If external access is needed, consider setting up a VPN or use a secure, authenticated, and encrypted access method to reach your cluster, rather than exposing it directly on the public internet.

To make this adjustment in your Terraform configuration, you should set the `public_ip` attribute in your `yandex_kubernetes_cluster` resource to `False`. If you have multiple clusters, make sure to configure this for each of them. 

After making these changes, you can run the Checkov security check again to verify that your clusters no longer have public IP addresses.

_(Text generated by Codacy Bot. Send feedback to ai-pattern-text@codacy.com)_
